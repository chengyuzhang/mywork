webpackJsonp([12],{0:function(t,e,a){t.exports=a(30)},1:function(t,e){"use strict";function a(t){var e=t.width()+200,a=null,o=null;t.on("scroll",function(){clearTimeout(a),clearTimeout(o),$(t).scrollTop()>=parseInt(e)?($("#top").css("display","block"),a=setTimeout(function(){$("#top").css("opacity",1)},50)):($("#top").css("opacity",0),o=setTimeout(function(){$("#top").css("display","none")},550))}),$("#top").on("click",function(){$(t).scrollTop(0)})}Object.defineProperty(e,"__esModule",{value:!0}),e.reTop=a;var o="http://192.168.4.87:8081";e.default=o},2:function(t,e){},30:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}a(2),a(46);var n=a(3),s=o(n),c=a(1),i=o(c);!function(){var t=(0,s.default)(".wrap");(0,c.reTop)(t)}(),function(){var t=(0,s.default)(".list"),e="",a=sessionStorage.getItem("vipNo");s.default.ajax({url:i.default+"/customization/orders?memberNo="+a,success:function(a){return a.head.code?void console.log("数据返回错误！"):(a.body.orders.length||((0,s.default)(".wrap").addClass("no"),(0,s.default)(".wrap").append('<p style="margin-top:3.5rem; color:#999; text-align:center;">您还没有订单，快去定制吧~</p><a style="display:block; width:.89rem; margin-left:1.43rem; margin-top:.4rem; border: 1px solid #CB68A4; color:#CB68A4; text-align:center; line-height:.3rem; border-radius:5px; font-size:.14rem;" href=custom.html>我要定制</a>')),a.body.orders.forEach(function(t,a){switch(e+="<li>",e+='<div class="status"><span>'+t.createTime+"</span><em data-index="+a+">"+t.statusName+"</em></div>",e+='<div class="goods-detail" data-order="'+t.orderNo+'">',e+='<img src="'+t.cover+'" alt="">',e+="<ol><li>款式："+t.style+"</li><li>材质："+t.material+"</li><li>尺寸："+t.size+"</li></ol></div>",e+='<div class="btn-list"><em>支付金额： ￥'+t.price+"</em>",t.status){case 10:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>',e+='<span class="sure" data-order='+t.orderNo+">立即付款</span>";break;case 20:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>',e+='<span class="refund" data-order='+t.orderNo+" data-index="+a+">申请退款</span>";break;case 40:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>';break;case 60:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>';break;case 70:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>',e+='<span class="ok" data-order='+t.orderNo+" data-index="+a+">确认收货</span>";break;case 80:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>';break;case 31:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>',e+='<span class="refund" data-order='+t.orderNo+" data-index="+a+">申请退款</span>";break;case 41:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>';break;default:e+='<span onclick="NTKF.im_openInPageChat(\'kf_9529_1489472556188\')" class="contact" >联系客服</span>'}e+="</div></li>"}),t.html(e),function(){var t=(0,s.default)(".goods-detail");t.forEach(function(t,e){(0,s.default)(t).on("click",function(){window.location.href="order-detail.html?orderNo="+(0,s.default)(this).get(0).dataset.order})})}(),function(){function t(t){s.default.ajax({type:"post",url:i.default+"/customization/order/pay",data:{orderNo:t},success:function(t){if(console.log(t),t.head.code)return void console.log("数据返回错误！");var e=t.body.form;location.href=e},error:function(t){console.log(t)}})}var e=document.querySelectorAll(".sure");console.log("xx:",e),e.forEach(function(e,a){console.log(7),(0,s.default)(e).on("click",function(){console.log((0,s.default)(e).get(0).dataset.order),t((0,s.default)(e).get(0).dataset.order)})})}(),function(){(0,s.default)(".refund")}(),function(){function t(t,e,n){s.default.ajax({type:"post",url:i.default+"/customization/order/refund",data:{orderNo:t,memberNo:e},success:function(t){return t.head.code?void console.log("数据返回错误！"):void(t.body.status&&((0,s.default)(r).eq(n).text("待退款"),(0,s.default)(o).eq(n).find(".refund").css("display","none"),a()))},error:function(t){console.log(t)}})}function e(t,e,a){l.attr("data-order",t),l.attr("data-index",e),l.attr("data-type",a),c.css("display","block"),setTimeout(function(){c.css("opacity",1)},50)}function a(){c.css("opacity",0),setTimeout(function(){c.css("display","none")},500)}var o=(0,s.default)(".list>li"),n=(0,s.default)(".refund"),c=(0,s.default)(".opacity"),l=(0,s.default)(".opacity .con li:last-of-type"),d=(0,s.default)(".opacity .con li:first-of-type"),r=(0,s.default)(".list .status>em");n.forEach(function(t,a){(0,s.default)(t).on("click",function(){(0,s.default)(".opacity .reason input").css("display","block"),e((0,s.default)(t).get(0).dataset.order,(0,s.default)(t).get(0).dataset.index,(0,s.default)(t).get(0).className)})}),l.on("click",function(){var e=sessionStorage.getItem("vipNo");"refund"==(0,s.default)(this).get(0).dataset.type&&t((0,s.default)(this).get(0).dataset.order,e,(0,s.default)(this).get(0).dataset.index)}),d.on("click",function(){a()})}(),void function(){function t(t,e,n){s.default.ajax({type:"post",url:i.default+"/customization/order/confirm",data:{orderNo:t,memberNo:e},success:function(t){return t.head.code?void console.log("数据返回错误！"):void(t.body.status&&((0,s.default)(r).eq(n).text("已完成"),(0,s.default)(o).eq(n).find(".ok").css("display","none"),a()))},error:function(t){console.log(t)}})}function e(t,e,a){l.attr("data-order",t),l.attr("data-index",e),l.attr("data-type",a),c.css("display","block"),setTimeout(function(){c.css("opacity",1)},50)}function a(){c.css("opacity",0),setTimeout(function(){c.css("display","none")},500)}var o=(0,s.default)(".list>li"),n=(0,s.default)(".ok"),c=(0,s.default)(".opacity"),l=(0,s.default)(".opacity .con li:last-of-type"),d=(0,s.default)(".opacity .con li:first-of-type"),r=(0,s.default)(".list .status>em");n.forEach(function(t,a){(0,s.default)(t).on("click",function(){(0,s.default)(".opacity .reason input").css("display","none"),(0,s.default)(".opacity .reason h2").text("确认收货"),(0,s.default)(".opacity .reason p").text("是否确认已经收到货品？"),e((0,s.default)(t).get(0).dataset.order,(0,s.default)(t).get(0).dataset.index,(0,s.default)(t).get(0).className)})}),l.on("click",function(){var e=sessionStorage.getItem("vipNo");"ok"==(0,s.default)(this).get(0).dataset.type&&t((0,s.default)(this).get(0).dataset.order,e,(0,s.default)(this).get(0).dataset.index)}),d.on("click",function(){a()})}())},error:function(t){console.log(t)}})}()},46:2});