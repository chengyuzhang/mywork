webpackJsonp([15],{0:function(a,l,e){a.exports=e(13)},13:function(a,l,e){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}function t(){var a="";c.default.ajax({type:"get",url:v,data:d,success:function(l){l.head.code&&console.log(l.head.message);var l=l.body;l.articles.forEach(function(l,e){a+="<li class='list-item'>\n                        <div class='item-pic'>\n                            <img data-src="+l.cover+'>\n                        </div>\n                        <div class="item-title">\n                            <h3>\n                                <img data-src='+l.avatar+' alt="">\n                                <b>'+l.nickName+"</b>\n                                <em>"+l.publishTime+'</em>\n                            </h3>\n                            <div class="item-content">\n                                <h2>'+l.title+"</h2>\n                                <p>"+l.content+'</p>\n                            </div>\n                        </div>\n                        <ol class="item-words">\n                            <li>\n                                <span>留言</span>\n                                <em>'+l.messageNum+"</em>\n                                <i></i>\n                            </li>\n                            <li>\n                                <span>点赞</span>\n                                <em>"+l.interestedNum+"</em>\n                            </li>\n                            <li>",l.labels&&l.labels.split(",").forEach(function(l,e){a+='<span class="kind">'+l+"</span>"}),a+="</li>\n                        </ol>\n                    </li>"}),(0,c.default)(m).html(a),function(){var a=(0,c.default)(".item-pic img");(0,o.imgLazyForFind)(a),(0,o.imgLazy)((0,c.default)(".item-title h3 img"))}();var e=Math.ceil(l.page/u);console.log("page:",e),console.log("data.page:",l.page),console.log("pageSize:",u),f&&(i(e),f=!1)},error:function(a){console.log(a)}})}function i(a){function l(s,n){function o(a){0==a?l("init",a):1==a?l("second",a):2==a?l("third",a):3==a?l("fourth",a):a>3&&a<h-4?l("middle",a):a==h-4?l("last-4",a):a==h-3?l("last-3",a):a==h-2?l("last-2",a):a==h-1&&l("last-1",a)}var r="";if("init"==s){r+='<ul class="page-wrap">';for(var p=0;p<a;p++)r+=p<3?0==p?'<li class="active">'+(p+1)+"</li>":"<li>"+(p+1)+"</li>":p>=3&&p<=a-2?'<li class="dot">...</li>':"<li>"+(p+1)+"</li>";r+='</ul><span class="to-next"></span>',e.html(r)}else if("second"==s){r+='<span class="to-prev"></span><ul class="page-wrap">';for(var p=0;p<a;p++)r+=p<3?"<li>"+(p+1)+"</li>":p>=3&&p<=a-2?'<li class="dot">...</li>':"<li>"+(p+1)+"</li>";r+='</ul><span class="to-next"></span>',e.html(r)}else if("third"==s){r+='<span class="to-prev"></span><ul class="page-wrap">';for(var p=0;p<a;p++)r+=p<4?"<li>"+(p+1)+"</li>":p>=4&&p<=a-2?'<li class="dot">...</li>':"<li>"+(p+1)+"</li>";r+='</ul><span class="to-next"></span>',e.html(r)}else if("fourth"==s){r+='<span class="to-prev"></span><ul class="page-wrap">';for(var p=0;p<a;p++)r+=p<5?"<li>"+(p+1)+"</li>":p>=5&&p<=a-2?'<li class="dot">...</li>':"<li>"+(p+1)+"</li>";r+='</ul><span class="to-next"></span>',e.html(r)}else if("middle"==s){var u=Math.ceil(a/2),f=n-u;f++,r+='<span class="to-prev"></span><ul class="page-wrap">';for(var p=0;p<a;p++)r+=p<1?"<li>"+(p+1)+"</li>":p>=1&&p<u-2+f?'<li class="dot">...</li>':p>=u-2+f&&p<u+1+f?"<li>"+(p+1)+"</li>":p>=u+1+f&&p<a-1?'<li class="dot2">...</li>':"<li>"+(p+1)+"</li>";r+='</ul><span class="to-next"></span>',e.html(r)}else if("last-4"==s){var u=Math.ceil(a/2);r+='<span class="to-prev"></span><ul class="page-wrap">';for(var p=0;p<a;p++)r+=p>=1&&p<a-5?'<li class="dot">...</li>':"<li>"+(p+1)+"</li>";r+='</ul><span class="to-next"></span>',e.html(r)}else if("last-3"==s){var u=Math.ceil(a/2);r+='<span class="to-prev"></span><ul class="page-wrap">';for(var p=0;p<a;p++)r+=p>=1&&p<a-4?'<li class="dot">...</li>':"<li>"+(p+1)+"</li>";r+='</ul><span class="to-next"></span>',e.html(r)}else if("last-2"==s){var u=Math.ceil(a/2);r+='<span class="to-prev"></span><ul class="page-wrap">';for(var p=0;p<a;p++)r+=p>=1&&p<a-3?'<li class="dot">...</li>':"<li>"+(p+1)+"</li>";r+='</ul><span class="to-next"></span>',e.html(r)}else if("last-1"==s){var u=Math.ceil(a/2);r+='<span class="to-prev"></span><ul class="page-wrap">';for(var p=0;p<a;p++)r+=p>=1&&p<a-3?'<li class="dot">...</li>':"<li>"+(p+1)+"</li>";r+="</ul>",e.html(r)}var v=(0,c.default)(".to-prev"),m=(0,c.default)(".to-next"),g=(0,c.default)(".page-wrap li"),h=g.length;(0,c.default)(".dot").each(function(a,l){a>0&&(0,c.default)(l).css("display","none")}),(0,c.default)(".dot2").each(function(a,l){a>0&&(0,c.default)(l).css("display","none")}),"init"!=s&&(0,c.default)(g[i]).removeClass("active"),(0,c.default)(g[n]).addClass("active"),i=n,(0,c.default)(g).each(function(a,l){(0,c.default)(l).on("click",function(){o(a),d.pageNum=a+1,t()})}),v.on("click",function(){i--,o(i),d.pageNum=i+1,t()}),m.on("click",function(){i++,o(i),d.pageNum=i+1,t(i+1)})}console.log("num:",a);var e=(0,c.default)(".paging"),s="",i=0;if(1==a?(0,c.default)(".paging").css("display","none"):(0,c.default)(".paging").css("display","block"),a<9){s+='<span class="to-prev"></span><ul class="page-wrap">';for(var n=0;n<a;n++)s+=n==i?'<li class="active">'+(n+1)+"</li>":"<li>"+(n+1)+"</li>";s+='</ul><span class="to-next"></span>',e.html(s);for(var o=(0,c.default)(".to-prev"),r=(0,c.default)(".to-next"),p=(0,c.default)(".page-wrap li"),n=0;n<p.length;n++)!function(a){(0,c.default)(p[a]).on("click",function(){p[i].className="",i=a,d.pageNum=a+1,t(),(0,c.default)(this).get(0).className="active"})}(n);o.on("click",function(){0!=i&&(p[i].className="",i--,d.pageNum=i+1,t(),p[i].className="active")}),r.on("click",function(){i!=a-1&&(p[i].className="",i++,d.pageNum=i+1,t(),p[i].className="active")})}else l("init",0)}e(2),e(35);var n=e(3),c=s(n),o=e(1),r=s(o);(0,o.cartCount)((0,c.default)(".func-public em")),function(){var a=(0,c.default)(".swiper-wrapper"),l="";c.default.ajax({url:r.default+"/subject/get",success:function(e){e.body.subjects.forEach(function(a,e){l+='<div class="swiper-slide" style="background-image:url('+a.cover+')"><p>'+a.title+'</p><a href="'+a.link+'"></a></div>'}),a.html(l),new Swiper(".swiper-container",{pagination:".swiper-pagination",effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",speed:500,loop:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}})},error:function(a){console.log(log)}})}();var p=1,u=9,d={pageNum:p,pageSize:u,labelId:0},f=!0,v=r.default+"/article/list";!function(){var a=((0,c.default)(".discovery"),document.querySelector(".wrap-nav ul")),l="";c.default.ajax({url:r.default+"/article/label",success:function(e){var s=e.body.labels;s.forEach(function(a,e){0==e?l+='<li id="'+a.id+'" class="swiper-slide" data-kind="story"><a href="javascript:;">'+a.labelContent+"</a></li>":1==e?l+='<li id="'+a.id+'" class="swiper-slide" data-kind="fashion"><a href="javascript:;">'+a.labelContent+"</a></li>":2==e&&(l+='<li id="'+a.id+'" class="swiper-slide" data-kind="beauty"><a href="javascript:;">'+a.labelContent+"</a></li>")}),(0,c.default)(a).append(l);var i=(0,c.default)(".wrap-nav ul li"),n=0;i.each(function(a,l){(0,c.default)(l).on("click",function(){(0,c.default)(i[n]).removeClass("active"),(0,c.default)(l).addClass("active"),n=a,d.pageNum=1,d.labelId=l.id,v=a?r.default+"/article/list/label":r.default+"/article/list",f=!0,t()})})},error:function(a){console.log(a)}})}();var m=(0,c.default)(".wrap-list-item ul");t()},35:2});