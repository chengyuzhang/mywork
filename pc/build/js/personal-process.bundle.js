webpackJsonp([7],{0:function(e,t,a){e.exports=a(22)},22:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=(0,d.default)(".circle");(0,d.default)(t).find("p").text(e),(0,d.default)(t).css("display","block"),setTimeout(function(){(0,d.default)(t).css("opacity",1)},50)}function s(){var e=(0,d.default)(".circle");(0,d.default)(e).css("opacity",0),setTimeout(function(){(0,d.default)(e).css("display","none")},500)}a(2),a(44);var i=a(3),d=o(i),n=a(1),r=o(n);(0,n.cartCount)((0,d.default)(".func-public em")),function(){(0,n.setSto)("goods-style",""),(0,n.setSto)("goods-size",""),(0,n.setSto)("goods-material",""),(0,n.setSto)("style",""),(0,n.setSto)("size",""),(0,n.setSto)("material",""),(0,n.setSto)("order-money",""),(0,n.setSto)("letter-words","")}(),function(){function e(e){var a="";"necklace"==e?(a+='<div class="silver" data-type="'+e+'" data-material="silver" data-model="CZ-YIN-01"><p>925银</p></div>',a+='<div class="gold" data-type="'+e+'" data-material="gold" class="block gold" data-model="CZ-18KJ-01"><p class="">18k金(玫瑰金)</p></div><span></span>'):"brooch"==e?a+='<div class="silver active" data-type="'+e+'" data-material="silver" data-model="CZ-YIN-01"><p>925银</p></div>':"earring"==e&&(a+='<div class="silver active" data-type="'+e+'" data-material="silver" data-model="CZ-YIN-01"><p>925银</p></div>'),(0,d.default)(i).html(a);var o=(0,d.default)(".silver"),c=(0,d.default)(".gold");o.on("click",function(){p=(0,d.default)(this).get(0).dataset.model,S=(0,d.default)(this).find("p").text(),(0,n.setSto)("material",p),(0,n.setSto)("goods-material",S),(0,n.setSto)("goods-material","925银"),(0,n.setSto)("size","");var a=(0,d.default)(o).get(0).dataset.material;(0,d.default)(".material img"),t(e,a),(0,d.default)(".size img"),(0,d.default)(o).addClass("active"),(0,d.default)(".gold p").text("18k金(玫瑰金)"),l("价格计算中"),d.default.ajax({url:r.default+"/customization/price?style="+v+"&material="+sessionStorage.getItem("material")+"&size="+sessionStorage.getItem("size"),success:function(e){return e.head.code?void console.log("数据返回错误！"):((0,d.default)(w).html(e.body.money),(0,n.setSto)("order-money",e.body.money),void s())},error:function(e){console.log(e)}})});var u=(0,d.default)(".material-more");c.on("click",function(){p=(0,d.default)(this).get(0).dataset.model,S=(0,d.default)(this).find("p").text(),(0,n.setSto)("material",p),(0,n.setSto)("goods-material",S),(0,n.setSto)("goods-material",(0,d.default)(c).find("p").text()),(0,n.setSto)("size",""),(0,d.default)(u).css("display","block"),setTimeout(function(){(0,d.default)(u).css("opacity",1)},50),d.default.ajax({url:r.default+"/customization/price?style="+v+"&material="+sessionStorage.getItem("material")+"&size="+sessionStorage.getItem("size"),success:function(e){return e.head.code?void console.log("数据返回错误！"):((0,d.default)(w).html(e.body.money),void(0,n.setSto)("order-money",e.body.money))},error:function(e){console.log(e)}})});var f=(0,d.default)(".material-more li");f.each(function(e,a){(0,d.default)(a).on("click",function(){var e=(0,d.default)(".gold"),o=(0,d.default)(e).get(0).dataset.material;(0,d.default)(".gold p").text((0,d.default)(a).text()),t("necklace",o),(0,d.default)(e).addClass("active"),(0,d.default)(u).css("opacity",0),setTimeout(function(){(0,d.default)(u).css("display","none")},500)})}),"brooch"==e?(t("brooch","silver"),(0,d.default)(".material img"),(0,d.default)(".size img"),(0,d.default)(o).addClass("active")):"earring"==e&&(t("earring","silver"),(0,d.default)(".material img"),(0,d.default)(o).addClass("active"))}function t(e,t){var a="";"necklace"==e&&"silver"==t?(a+='<div class="small" data-model="CC-S"><p>2*1.2cm</p></div>',a+='<div class="middle" data-model="CC-M"><p>3*1.9cm</p></div>',a+='<div class="large" data-model="CC-L"><p>3.5*2.2cm</p></div>',console.log(e)):"necklace"==e&&"gold"==t?(a+='<div class="small" data-model="CC-S"><p>1.5*1cm</p></div>',a+='<div class="large" data-model="CC-L"><p>2*1.5cm</p></div>'):"brooch"==e&&"silver"==t?(a+='<div class="small" data-model="CC-S"><p>3*2.5cm</p></div>',a+='<div class="large" data-model="CC-L"><p>4*3cm</p></div>'):"earring"==e&&"silver"==t&&(a+='<div class="small" data-model="CC-S"><p>1*1cm</p></div>'),(0,d.default)(c).html(a);var i=(0,d.default)(".size img"),u=(0,d.default)(".small"),f=(0,d.default)(".middle"),m=(0,d.default)(".large");o(i),"earring"==e&&(0,d.default)(u).addClass("active"),u.on("click",function(){g=(0,d.default)(this).get(0).dataset.model,h=(0,d.default)(this).find("p").text(),(0,n.setSto)("size",g),(0,n.setSto)("goods-size","S "+h),(0,d.default)(u).addClass("active"),l("价格计算中"),d.default.ajax({url:r.default+"/customization/price?style="+v+"&material="+sessionStorage.getItem("material")+"&size="+sessionStorage.getItem("size"),success:function(e){return e.head.code?void console.log("数据返回错误！"):((0,d.default)(w).html(e.body.money),(0,n.setSto)("order-money",e.body.money),void s())},error:function(e){console.log(e)}})}),f.on("click",function(){g=(0,d.default)(this).get(0).dataset.model,h=(0,d.default)(this).find("p").text(),(0,n.setSto)("size",g),(0,n.setSto)("goods-size","M "+h),(0,d.default)(f).addClass("active"),l("价格计算中"),d.default.ajax({url:r.default+"/customization/price?style="+v+"&material="+sessionStorage.getItem("material")+"&size="+sessionStorage.getItem("size"),success:function(e){return e.head.code?void console.log("数据返回错误！"):((0,d.default)(w).html(e.body.money),(0,n.setSto)("order-money",e.body.money),void s())},error:function(e){console.log(e)}})}),m.on("click",function(){g=(0,d.default)(this).get(0).dataset.model,h=(0,d.default)(this).find("p").text(),(0,n.setSto)("size",g),(0,n.setSto)("goods-size","L "+h),(0,d.default)(m).addClass("active"),l("价格计算中"),d.default.ajax({url:r.default+"/customization/price?style="+v+"&material="+sessionStorage.getItem("material")+"&size="+sessionStorage.getItem("size"),success:function(e){return e.head.code?void console.log("数据返回错误！"):((0,d.default)(w).html(e.body.money),(0,n.setSto)("order-money",e.body.money),void s())},error:function(e){console.log(e)}})})}function a(e){e.each(function(e,t){(0,d.default)(t).removeClass("active")})}function o(e){}var i=(0,d.default)(".material"),c=(0,d.default)(".size"),u=(0,d.default)(".necklace"),f=(0,d.default)(".brooch"),m=(0,d.default)(".earring"),v=((0,d.default)(".style img"),""),p="",g="",y="",S="",h="",w=(0,d.default)(".price p span");u.on("click",function(){v=(0,d.default)(this).get(0).dataset.model,y=(0,d.default)(this).find("p").text(),(0,n.setSto)("style",v),(0,n.setSto)("size",""),(0,n.setSto)("material",""),(0,n.setSto)("goods-style",y);var o=(0,d.default)(u).get(0).dataset.type;e(o),t(o,"silver"),a((0,d.default)(".style>div")),(0,d.default)(u).addClass("active"),l("价格计算中"),d.default.ajax({url:r.default+"/customization/price?style="+v+"&material="+sessionStorage.getItem("material")+"&size="+sessionStorage.getItem("size"),success:function(e){return e.head.code?void console.log("数据返回错误！"):((0,d.default)(w).html(e.body.money),(0,n.setSto)("order-money",e.body.money),void s())},error:function(e){console.log(e)}})}),f.on("click",function(){v=(0,d.default)(this).get(0).dataset.model,y=(0,d.default)(this).find("p").text(),(0,n.setSto)("style",v),(0,n.setSto)("size",""),(0,n.setSto)("goods-style",y),(0,n.setSto)("material","CZ-YIN-01"),(0,n.setSto)("goods-material","925银");var t=(0,d.default)(f).get(0).dataset.type;e(t),a((0,d.default)(".style>div")),console.log("oBrooch:",(0,d.default)(f)),(0,d.default)(f).addClass("active"),l("价格计算中"),d.default.ajax({url:r.default+"/customization/price?style="+v+"&material="+sessionStorage.getItem("material")+"&size="+sessionStorage.getItem("size"),success:function(e){return e.head.code?void console.log("数据返回错误！"):((0,d.default)(w).html(e.body.money),(0,n.setSto)("order-money",e.body.money),void s())},error:function(e){console.log(e)}})}),m.on("click",function(){v=(0,d.default)(this).get(0).dataset.model,y=(0,d.default)(this).find("p").text(),(0,n.setSto)("style",v),(0,n.setSto)("goods-style",y),(0,n.setSto)("material","CZ-YIN-01"),(0,n.setSto)("size","CC-S"),(0,n.setSto)("goods-size","S 1*1cm"),(0,n.setSto)("goods-material","925银");var t=(0,d.default)(m).get(0).dataset.type;e(t),a((0,d.default)(".style>div")),(0,d.default)(m).addClass("active"),l("价格计算中"),d.default.ajax({url:r.default+"/customization/price?style="+v+"&material="+sessionStorage.getItem("material")+"&size="+sessionStorage.getItem("size"),success:function(e){return e.head.code?void console.log("数据返回错误！"):((0,d.default)(w).html(e.body.money),(0,n.setSto)("order-money",e.body.money),void s())},error:function(e){console.log(e)}})})}(),function(){var e=((0,d.default)(".protocol>p>span"),(0,d.default)(".custom-btn img")),t=(0,d.default)(".order-con-opacity"),a=!0;e.on("click",function(){a&&(t.css("display","block"),setTimeout(function(){t.css("opacity",1)},50))})}(),function(){var e=(0,d.default)(".upload");e.on("change",function(){var e=this.files[0],t=new FileReader;t.onload=function(e){(0,d.default)(".upload-photo>.upload-btn>img").attr("src",e.target.result)},t.readAsDataURL(e)})}(),function(){sessionStorage.setItem("picUrl","");var e=(0,d.default)(".upload-photo>.upload-con>input");e.on("change",function(){var e=new FormData,t=this.files[0],a=new FileReader;a.onload=function(a){l("图片提交中,请耐心等待"),(0,n.rmSto)("picUrl"),e.append("test",t),d.default.ajax({type:"post",url:r.default+"/pic/upload",data:e,processData:!1,contentType:!1,success:function(e){return e.head.code?(s(),void setTimeout(function(){alert(e.head.message)},600)):((0,n.setSto)("picUrl",e.body.avatar),void s())},error:function(e){s("连接错误！"),console.log(e)}})},a.readAsDataURL(t)})}(),function(){var e=(0,d.default)(".price button"),t=((0,d.default)(".upload-photo>.upload-con>input"),(0,d.default)(".words>input")),a=(0,d.default)(".remarks input"),o=/^((https|http|ftp|rtsp|mms)?:\/\/)/,l=/^[a-zA-Z\u4e00-\u9fa5]{1,20}$/;e.on("click",function(){var e=(0,n.getSto)("picUrl");if(!o.test(e))return void alert("请选择照片！");if(""==(0,n.getSto)("style"))return void alert("请选择款式");if(""==(0,n.getSto)("material"))return void alert("请选择材质");if(""==(0,n.getSto)("size"))return void alert("请选择尺寸");if(t.val().length>7)return void alert("请填写7个以内字符！");if(0!=t.val().length&&!l.test(t.val()))return void alert("不能用特殊字符！");var s=(0,n.getSto)("vipNo");(0,n.setSto)("letter-words",t.val()),(0,n.setSto)("comment",a.val());var s=(0,n.getSto)("vipNo");(0,n.getSto)("token"),parseInt(s)?d.default.ajax({url:r.default+"/address/detail/my?memberNo="+s+"&addressId=0",success:function(e){return e.head.code?(71982==e.head.code&&((0,n.rmSto)("nickname"),(0,n.rmSto)("timestamp"),(0,n.rmSto)("token"),(0,n.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(e.head.message)):void(window.location.href="ok-order.html?from=custom")},error:function(e){console.log(e)}}):(0,d.default)(".add-new-address").css("display","block")})}(),function(){var e=(0,d.default)(".words>input"),t="";e.on("input",function(){(0,d.default)(e).val().length<8?(t=(0,d.default)(e).val(),console.log(1)):(0,d.default)(e).val(t)})}(),function(){function e(){var e=(0,d.default)(".city li");e.each(function(t,a){(0,d.default)(a).on("click",function(){e.each(function(e,t){(0,d.default)(t).removeClass("active")}),(0,d.default)(this).addClass("active"),(0,d.default)(c).text(r+"/"+(0,d.default)(this).text()),m.css("opacity",0),v=setTimeout(function(){m.css("display","none")},500)})})}var t=new Array("北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","宁夏回族自治区","青海省","新疆维吾尔族自治区","香港特别行政区","澳门特别行政区","台湾省"),a=new Array;a[0]=new Array("北京市","东城区|西城区|崇文区|宣武区|朝阳区|丰台区|石景山区|海淀区|门头沟区|房山区|通州区|顺义区|昌平区|大兴区|平谷区|怀柔区|密云区|延庆区"),a[1]=new Array("上海市","黄浦区|卢湾区|徐汇区|长宁区|静安区|普陀区|闸北区|虹口区|杨浦区|闵行区|宝山区|嘉定区|浦东区|金山区|松江区|青浦区|南汇区|奉贤区|崇明区"),a[2]=new Array("天津市","和平区|东丽区|河东区|西青区|河西区|津南区|南开区|北辰区|河北区|武清区|红挢区|塘沽区|汉沽区|大港区|宁河区|静海区|宝坻区|蓟县"),a[3]=new Array("重庆市","万州区|涪陵区|渝中区|大渡口区|江北区|沙坪坝区|九龙坡区|南岸区|北碚区|万盛区|双挢区|渝北区|巴南区|黔江区|长寿区|綦江区|潼南区|铜梁 区|大足区|荣昌区|壁山区|梁平区|城口区|丰都区|垫江区|武隆区|忠县区|开县区|云阳区|奉节区|巫山区|巫溪区|石柱区|秀山区|酉阳区|彭水区|江津区|合川区|永川区|南川区"),a[4]=new Array("河北省","石家庄市|邯郸市|邢台市|保定市|张家口市|承德市|廊坊市|唐山市|秦皇岛市|沧州市|衡水市"),a[5]=new Array("山西省","太原市|大同市|阳泉市|长治市|晋城市|朔州市|吕梁市|忻州市|晋中市|临汾市|运城市"),a[6]=new Array("内蒙古自治区","呼和浩特市|包头市|乌海市|赤峰市|呼伦贝尔盟市|阿拉善盟市|哲里木盟市|兴安盟市|乌兰察布盟市|锡林郭勒盟市|巴彦淖尔盟市|伊克昭盟市"),a[7]=new Array("辽宁省","沈阳市|大连市|鞍山市|抚顺市|本溪市|丹东市|锦州市|营口市|阜新市|辽阳市|盘锦市|铁岭市|朝阳市|葫芦岛市"),a[8]=new Array("吉林省","长春市|吉林市|四平市|辽源市|通化市|白山市|松原市|白城市|延边市"),a[9]=new Array("黑龙江省","哈尔滨市|齐齐哈尔市|牡丹江市|佳木斯市|大庆市|绥化市|鹤岗市|鸡西市|黑河市|双鸭山市|伊春市|七台河市|大兴安岭市"),a[10]=new Array("江苏省","南京市|镇江市|苏州市|南通市|扬州市|盐城市|徐州市|连云港市|常州市|无锡市|宿迁市|泰州市|淮安市"),a[11]=new Array("浙江省","杭州市|宁波市|温州市|嘉兴市|湖州市|绍兴市|金华市|衢州市|舟山市|台州市|丽水市"),a[12]=new Array("安徽省","合肥市|芜湖市|蚌埠市|马鞍山市|淮北市|铜陵市|安庆市|黄山市|滁州市|宿州市|池州市|淮南市|巢湖市|阜阳市|六安市|宣城市|亳州市"),a[13]=new Array("福建省","福州市|厦门市|莆田市|三明市|泉州市|漳州市|南平市|龙岩市|宁德市"),a[14]=new Array("江西省","南昌市|景德镇市|九江市|鹰潭市|萍乡市|新馀市|赣州市|吉安市|宜春市|抚州市|上饶市"),a[15]=new Array("山东省","济南市|青岛市|淄博市|枣庄市|东营市|烟台市|潍坊市|济宁市|泰安市|威海市|日照市|莱芜市|临沂市|德州市|聊城市|滨州市|菏泽市"),a[16]=new Array("河南省","郑州市|开封市|洛阳市|平顶山市|安阳市|鹤壁市|新乡市|焦作市|濮阳市|许昌市|漯河市|三门峡市|南阳市|商丘市|信阳市|周口市|驻马店市|济源市"),a[17]=new Array("湖北省","武汉市|宜昌市|荆州市|襄樊市|黄石市|荆门市|黄冈市|十堰市|恩施市|潜江市|天门市|仙桃市|随州市|咸宁市|孝感市|鄂州市"),a[18]=new Array("湖南省","长沙市|常德市|株洲市|湘潭市|衡阳市|岳阳市|邵阳市|益阳市|娄底市|怀化市|郴州市|永州市|湘西市|张家界市"),a[19]=new Array("广东省","广州市|深圳市|珠海市|汕头市|东莞市|中山市|佛山市|韶关市|江门市|湛江市|茂名市|肇庆市|惠州市|梅州市|汕尾市|河源市|阳江市|清远市|潮州市|揭阳市|云浮市"),a[20]=new Array("广西壮族自治区","南宁市|柳州市|桂林市|梧州市|北海市|防城港市|钦州市|贵港市|玉林市|南宁地区市|柳州地区市|贺州市|百色市|河池市"),a[21]=new Array("海南省","海口市|三亚市|三沙市|儋州市|五指山市|文昌市|琼海市|万宁市|东方市"),a[22]=new Array("四川省","成都市|绵阳市|德阳市|自贡市|攀枝花市|广元市|内江市|乐山市|南充市|宜宾市|广安市|达川市|雅安市|眉山市|甘孜市|凉山市|泸州市"),a[23]=new Array("贵州省","贵阳市|六盘水市|遵义市|安顺市|铜仁市|黔西南市|毕节市|黔东南市|黔南市"),a[24]=new Array("云南省","昆明市|大理市|曲靖市|玉溪市|昭通市|楚雄市|红河市|文山市|思茅市|西双版纳市|保山市|德宏市|丽江市|怒江市|迪庆市|临沧市"),a[25]=new Array("西藏自治区","拉萨市|日喀则市|山南市|林芝市|昌都市|阿里市|那曲市"),a[26]=new Array("陕西省","西安市|宝鸡市|咸阳市|铜川市|渭南市|延安市|榆林市|汉中市|安康市|商洛市"),a[27]=new Array("甘肃省","兰州市|嘉峪关市|金昌市|白银市|天水市|酒泉市|张掖市|武威市|定西市|陇南市|平凉市|庆阳市|临夏市|甘南市"),a[28]=new Array("宁夏回族自治区","银川市|石嘴山市|吴忠市|固原市"),a[29]=new Array("青海省","西宁市|海东市|海南市|海北市|黄南市|玉树市|果洛市|海西市"),a[30]=new Array("新疆维吾尔族自治区","乌鲁木齐市|石河子市|克拉玛依市|伊犁市|巴音郭勒市|昌吉市|克孜勒苏柯尔克孜市|博尔塔拉市|吐鲁番市|哈密市|喀什市|和田市|阿克苏市"),a[31]=new Array("香港特别行政区","香港特别行政区"),a[32]=new Array("澳门特别行政区","澳门特别行政区"),a[33]=new Array("台湾省","台北市|高雄市|台中市|台南市|屏东市|南投市|云林市|新竹市|彰化市|苗栗市|嘉义市|花莲市|桃园市|宜兰市|基隆市|台东市|金门市|马祖市|澎湖市");var o=(0,d.default)(".province ul"),l=(0,d.default)(".city ul"),s="",i="";t.forEach(function(e,t){s+="<li>"+e+"</li>"}),o.html(s);var n=(0,d.default)(".province ul li"),r="北京市",c=(0,d.default)(".add-new-address ul li p i");a[0][1].split("|").forEach(function(e,t){i+="<li>"+e+"</li>"}),l.html(i),e(),n.each(function(t,o){(0,d.default)(o).on("click",function(){var t=(0,d.default)(this).text();i="",a.forEach(function(e,a){if(t==e[0]){r=e[0];var o=e[1].split("|");o.forEach(function(e,t){i+="<li>"+e+"</li>"}),l.html(i)}}),e()})});var u=(0,d.default)(".select-top>span.close"),f=(0,d.default)(".add-new-address ul li p"),m=(0,d.default)(".select"),v=null;f.on("click",function(){m.css("display","block"),v=setTimeout(function(){m.css("opacity",1)},50)}),u.on("click",function(){m.css("opacity",0),v=setTimeout(function(){m.css("display","none")},500)})}();var c=/^((1[0-9]{1})+\d{9})$/;!function(){var e=(0,d.default)(".identifying"),t=60,a=null,o=!0;e.on("click",function(){if(o){var l=(0,d.default)("input.tel").val();if(!c.test(l))return alert("请输入有效的手机号码"),!1;o=!1,a=setInterval(function(){t--,e.html(t+"s"),e.css({color:"#fff",background:"#CB68A4","font-size":".18rem"}),t<0&&(clearInterval(a),e.html("重新获取"),o=!0,t=60,e.css({color:"#666",background:"#D8D8D8","font-size":".12rem"}))},1e3),d.default.ajax({type:"post",url:r.default+"/user/captcha",data:{mobile:l},success:function(e){e.head.code&&alert(e.head.message)},error:function(e){console.log(e)}})}})}(),function(){var e=(0,d.default)(".add-new-address ul li .keep");e.on("click",function(){var e=(0,d.default)(".order>input").val(),t=(0,d.default)(".order-tel>input").val(),a=(0,d.default)(".geter>input").val(),o=(0,d.default)(".geter-tel>input").val(),l=(0,d.default)(".code>input").val(),s=(0,d.default)(".geter-zone i").text(),i=(0,d.default)(".detial-address textarea").val();return console.log(e,t,a,o,l,s,i),""==e||""==a||""==t||""==s||""==o||""==l||""==i?void alert("手机号或验证码不能为空！"):c.test(t)&&c.test(o)?void d.default.ajax({type:"post",url:r.default+"/register",data:{nickname:e,mobile:t,captcha:l,consignee:a,consigneeMobile:o,zone:s.replace(/\//,""),detail:i},success:function(e){if(e.head.code)return void alert(e.head.message);var t=e.body.memberNo;(0,n.setSto)("token",e.body.token),(0,n.setSto)("addressID",e.body.addressId),(0,n.setSto)("vipNo",t),window.location.href="ok-order.html?from=custom"},error:function(e){console.log(e)}}):(alert("请输入有效的手机号码"),!1)})}()},44:2});