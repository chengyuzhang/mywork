webpackJsonp([39],{0:function(o,e,t){o.exports=t(24)},24:function(o,e,t){"use strict";function a(o){return o&&o.__esModule?o:{default:o}}t(2),t(68);var s=t(3),i=a(s),l=t(1),d=a(l),n=t(4);a(n),(0,l.rmSto)("goods-prevurl"),function(){var o=(0,i.default)(".wrap");(0,l.reTop)(o)}(),function(){function o(o,e,t){console.log(e),console.log("str:",o),e.forEach(function(e,t){o+='<li class="goods-gife-item">\n                <div>\n                    <h3>'+e.title+"</h3>\n                    <em>"+e.subtitle+"</em>\n                </div>",e.goodsList[0]&&(o+='<a href="goods-detail.html?id='+e.goodsList[0].goodsId+'"><img src="" data-src='+e.firstPicture+' alt=""></a>'),e.goodsList[1]&&(o+='<a href="goods-detail.html?id='+e.goodsList[1].goodsId+'"><img src="" data-src='+e.secondPicture+' alt=""></a>'),o+="</li>"}),(0,i.default)(t).html(o),function(){var o=(0,i.default)(".goods-gife-list img");(0,l.imgLazy)(o)}()}function e(o,e,t){console.log(e),console.log("str:",o),e.forEach(function(e,t){o+='<li class="goods-gife-item">\n                <div>\n                    <h3>'+e.title+"</h3>\n                    <em>"+e.subtitle+"</em>\n                </div>",e.goodsList[0]&&(o+='<a href="goods-detail.html?id='+e.goodsList[0].goodsId+'"><img src="" data-src='+e.firstPicture+' alt=""></a>'),e.goodsList[1]&&(o+='<a href="goods-detail.html?id='+e.goodsList[1].goodsId+'"><img src="" data-src='+e.secondPicture+' alt=""></a>'),o+="</li>"}),(0,i.default)(t).append(o),function(){var o=(0,i.default)(".goods-gife-list img");(0,l.imgLazy)(o)}()}function t(o,t){var a=(0,i.default)(t),c=(0,i.default)(".refresh"),u=window.screen.availHeight,g=0,r=0,f=null,m=null,h=null,p=0,v=0;a.on("touchstart",function(o){p=o.changedTouches[0].pageY}),a.on("touchmove",function(o){v=o.changedTouches[0].pageY}),a.on("scroll",function(){var t=(0,i.default)(".goods-gife-list li:nth-last-of-type(1)"),a=0;t&&(a=t.offset().top,p-v>=0&&a<u+100&&(clearTimeout(f),f=setTimeout(function(){s++,clearTimeout(h),(0,i.default)(c).html("正在加载中..."),(0,i.default)(c).css("bottom",0),i.default.ajax({type:"get",url:d.default+"/home/list/queryParentChildByPage",data:{pageNum:s,pageSize:n},success:function(t){if(t.head.code)return console.log(t.head.message),void(0,l.cancelImgLayer)();var t=t.body;t.end?(r||e(o,t.topics,(0,i.default)(".goods-gife-list")),r++,g=s-1,s=g,(0,i.default)(c).html("已经到末尾咯~"),(0,i.default)(c).css("bottom",0),clearTimeout(m),m=setTimeout(function(){(0,i.default)(c).css("bottom","-1rem")},2e3)):(e(o,t.topics,(0,i.default)(".goods-gife-list")),h=setTimeout(function(){(0,i.default)(c).css("bottom","-1rem")},2e3),r=0),function(){var o=(0,i.default)(".goods-gife-list img");(0,l.imgLazy)(o)}()},error:function(o){console.log(o),(0,l.cancelImgLayer)()}})},1e3)))})}var a=(0,i.default)(".goods-gife-list"),s=1,n=10,c="";(0,l.showImgLayer)("数据请求中..."),i.default.ajax({type:"get",url:d.default+"/home/list/queryParentChildByPage",data:{pageNum:s,pageSize:n},success:function(e){if(console.log("x:::",e),e.head.code)return console.log(e.head.message),void(0,l.cancelImgLayer)();var e=e.body;o(c,e.goodsVoList,a),(0,l.cancelImgLayer)()},error:function(o){console.log(o),(0,l.cancelImgLayer)()}}),t(c,(0,i.default)(".wrap"))}()},68:2});