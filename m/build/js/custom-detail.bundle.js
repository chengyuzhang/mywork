webpackJsonp([37],{0:function(e,t,a){e.exports=a(26)},26:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(2),a(70);var l=a(3),d=o(l),r=a(1),n=o(r),i=a(4),c=o(i);(0,r.getSto)("vipNo"),!function(){var e=(0,r.getSto)("prevurl",(0,r.prevUrl)());e?(0,d.default)("header>a").attr("href",e):((0,d.default)("header>a").attr("href",(0,r.prevUrl)()),(0,r.setSto)("prevurl",(0,r.prevUrl)()))}(),function(){(0,d.default)(".normal>span").on("click",function(){location.href="jump.html"})}(),function(){var e=((0,d.default)(".order-detail>.goods-detail>img"),(0,d.default)(".style"),(0,d.default)(".material"),(0,d.default)(".size"),(0,d.default)(".lettering"),(0,d.default)(".order-num")),t=(0,d.default)(".order-date"),a=(0,d.default)(".geter span"),o=(0,d.default)(".geter em"),l=(0,d.default)(".detail-adress p"),i=(0,d.default)(".tips"),u=(0,d.default)(".express"),f=(0,d.default)(".express-name"),p=(0,d.default)(".express-num"),m=(0,d.default)(".express-step"),y=(0,d.default)(".express-step ul"),h=(0,d.default)(".status-bar>ul"),v=(0,d.default)(".goods-price em"),g=(0,d.default)(".coupon-price em"),x=(0,d.default)(".need-pay em"),k=(0,d.default)(".comments li.comments-detail>div >p"),b="",N=(window.location.search,sessionStorage.getItem("vipNo")),S=sessionStorage.getItem("token"),C=(0,d.default)(".goods-wrap"),j="",S=(0,r.getSto)("token");d.default.ajax({type:"post",headers:(0,r.signName)(c.default,N,S),url:n.default+"/shoporder/detail",data:{memberNo:N,orderNo:(0,r.url_search)().orderNo,statusCode:(0,r.url_search)().statusCode},success:function(w){if(w.head.code)return 71982==w.head.code&&((0,r.rmSto)("nickname"),(0,r.rmSto)("timestamp"),(0,r.rmSto)("token"),(0,r.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(w.head.message);var w=w.body,T=w.address,_=w.express,I=w.statusAxis,P=w.goodsList;(0,d.default)(g).text("-￥"+w.creditPrice),(0,d.default)(v).text("￥"+w.orderPrice),(0,d.default)(x).text("￥"+w.payPrice),(0,d.default)(e).text(w.orderNo),(0,d.default)(t).text(w.created),""!=w.orderComment?(0,d.default)(k).html(w.orderComment):(0,d.default)(".comments-detail").css("display","none"),w.invoiceContent?(0,d.default)(".invoice-name").html(w.invoiceContent):(0,d.default)(".invoice-detail").css("display","none"),(0,d.default)(f).text(_.no),(0,d.default)(p).html('<a href="tel:95543">95543</a>'),(0,d.default)(a).text("收货人："+T.consignee),(0,d.default)(o).text(T.mobile),(0,d.default)(l).text(T.detail),""==T.consignee&&((0,d.default)("#gater").css("display","none"),(0,d.default)("#address").css("display","none")),P.forEach(function(e,t){j+='<div class="pic-info" data-goodsid='+e.goodsId+">\n\t                <img src="+e.picture+' alt="">\n\t                <ul>\n\t                    <li class="style"><p>'+e.longName+"</p></li>",""!=e.accessoryName&&(j+='<li class="ornament"><span>配件：</span><em>'+e.accessoryName+"</em></li>"),j+='<li class="price"><span>￥'+e.salePrice+"</span><em><i>x</i>"+e.goodsNum+"</em></li>",e.comment&&(j+='<li class="ornament"><span>备注：</span><em>'+e.comment+"</em></li>"),j+="</ul>\n\t            </div>"}),(0,d.default)(C).html(j),_.infos.length?(_.infos.forEach(function(e,t){b+=0==t?'<li class="active"><div class="line-dot"><i></i><span></span></div>':'<li><div class="line-dot"><i></i><span></span></div>',b+='<div class="status-detail"><p>'+e.content+"</p><p>"+e.createTime+"</p></div>",b+="</li>"}),y.html(b)):((0,d.default)(".express-step").css({height:"1rem","line-height":"1rem","text-align":"center",color:"#000","font-size":".14rem"}),(0,d.default)(".express-step").html("暂无物流信息！")),b="";var U=0;if(I){U=I.length,2==U?(0,d.default)(h).attr("class","two"):3==U?(0,d.default)(h).attr("class","three"):4==U?(0,d.default)(h).attr("class","four"):5==U?(0,d.default)(h).attr("class","five"):6==U?(0,d.default)(h).attr("class","six"):7==U&&(0,d.default)(h).attr("class","seven");for(var z=0;z<U;z++)b+="enable"==I[z][1]?'<li class="active"><span>'+(z+1)+"</span><p>"+I[z][0]+"</p></li>":'<li class=""><span>'+(z+1)+"</span><p>"+I[z][0]+"</p></li>";h.html(b)}10==w.statusCode&&(0,d.default)(".comments").css("display","block"),20==w.statusCode&&(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款："),21==w.statusCode&&(0,d.default)(".comments").css("display","block"),40!=w.statusCode&&30!=w.statusCode||((0,d.default)(m).css("display","block"),(0,d.default)(u).css("display","block"),(0,d.default)(y).css("display","block"),(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：")),41==w.statusCode&&((0,d.default)(i).css("display","block"),(0,d.default)(".tips>h2").text("您的退款已完成，请注意查看付款账户。"),(0,d.default)(".wrap").css("bottom",0),(0,d.default)(".refund-date").text(w.date),(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：")),31==w.statusCode&&((0,d.default)(i).css("display","block"),(0,d.default)(".tips>h2").text("您的退款申请已发出，请耐心等待。"),(0,d.default)(".bottom-btn").css("display","none"),(0,d.default)(".wrap").css("bottom",0),(0,d.default)(".refund-date").text(w.date),(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：")),50==w.statusCode&&((0,d.default)(".sold-server").css("display","block"),(0,d.default)(".sold-server p").text("售后中"),(0,d.default)(".address").css("display","none"),(0,d.default)(".status-bar").css("display","none"),(0,d.default)(".bottom-btn").css("display","none"),(0,d.default)(".wrap").css("bottom",0),(0,d.default)(".order-time span").text("申请时间"),(0,d.default)(".order-time em").text(w.date),(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：")),60==w.statusCode&&((0,d.default)(".sold-server").css("display","block"),(0,d.default)(".sold-server p").text("售后处理中"),(0,d.default)(".address").css("display","none"),(0,d.default)(".status-bar").css("display","none"),(0,d.default)(".bottom-btn").css("display","none"),(0,d.default)(".wrap").css("bottom",0),(0,d.default)(".order-time span").text("申请时间"),(0,d.default)(".order-time em").text(w.date),(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：")),61==w.statusCode&&((0,d.default)(".sold-server").css("display","block"),(0,d.default)(".sold-server p").text("售后不成立"),(0,d.default)(".address").css("display","none"),(0,d.default)(".status-bar").css("display","none"),(0,d.default)(".wrap").css("bottom",0),(0,d.default)(".order-time span").text("申请时间"),(0,d.default)(".order-time em").text(w.date),(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：")),70==w.statusCode&&((0,d.default)(".sold-server").css("display","block"),(0,d.default)(".sold-server p").text("售后成功"),(0,d.default)(".address").css("display","none"),(0,d.default)(".status-bar").css("display","none"),(0,d.default)(".wrap").css("bottom",0),(0,d.default)(".order-time span").text("申请时间"),(0,d.default)(".order-time em").text(w.date),(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：")),w.invoiceContent||""!=w.orderComment||(0,d.default)(".comments").css("display","none"),b="";var A=w.statusCode,E=(0,d.default)(".bottom-btn");switch(A){case 10:b+='<a href="javascript:;" data-type="cancel" class="s cancel-order" >取消订单</a><em class="pay-money">去支付</em>';break;case 20:b+='<a href="javascript:;" class="s" ></a><em class="refund">申请退款</em>',(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：");break;case 21:b+='<a href="javascript:;" data-type="delete" class="s active delete-order" >删除订单</a><em class="again-buy">再次购买</em>';break;case 30:b+='<a href="javascript:;" class="s active" ></a><em class="ok">确认收货</em>',(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：");break;case 40:b+='<a href="javascript:;" data-type="delete" class="s active delete-order" >删除订单</a><em class="again-buy">再次购买</em><em class="server-support">申请售后</em>',(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：");break;case 60:b+='<a href="javascript:;" class="s active" >联系客服</a>',(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：");break;case 61:b+='<a href="javascript:;" data-type="delete" class="s active delete-order" >删除订单</a>',(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：");break;case 70:b+='<a href="javascript:;" data-type="delete" class="s active delete-order" >删除订单</a>',(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：");break;case 80:b+='<a href="javascript:;" class="s active" >联系客服</a>';break;case 31:b+='<a href="javascript:;" class="s" >联系客服</a><span class="refund">申请退款</span>',(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：");break;case 41:b+='<a href="javascript:;" data-type="delete" class="s active delete-order" >删除订单</a>',(0,d.default)(".pay-detail>ul>li.need-pay>span").text("实付款：");break;default:b+='<a href="javascript:;" class="s active" >联系客服</a>'}(0,d.default)(E).html(b),w.aftersale?(0,d.default)(".server-support").css("display","none"):(0,d.default)(".server-support").css("display","block"),function(){var e=(0,d.default)(".pay-money");e.on("click",function(e){var t=(0,r.getSto)("token");d.default.ajax({type:"post",headers:(0,r.signName)(c.default,N,t),url:n.default+"/shoporder/pay",data:{orderNo:(0,r.url_search)().orderNo,memberNo:N},success:function(e){if(e.head.code)return 71982==e.head.code&&((0,r.rmSto)("nickname"),(0,r.rmSto)("timestamp"),(0,r.rmSto)("token"),(0,r.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(e.head.message);var t=e.body.form;_AP.pay(t)},error:function(e){console.log(e)}})}),event.stopPropagation()}(),function(){var e=(0,d.default)(".again-buy"),t=(0,r.getSto)("token");(0,d.default)(e).on("click",function(){d.default.ajax({type:"post",headers:(0,r.signName)(c.default,N,t),url:n.default+"/shoporder/buyagain",data:{memberNo:N,orderNo:(0,r.url_search)().orderNo},success:function(e){return e.head.code?(71982==e.head.code&&((0,r.rmSto)("nickname"),(0,r.rmSto)("timestamp"),(0,r.rmSto)("token"),(0,r.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(e.head.message)):void(location.href="cart.html?from=index")},error:function(e){console.log(e)}})})}(),function(){function e(e,t){d.default.ajax({type:"post",headers:(0,r.signName)(c.default,t,S),url:n.default+"/shoporder/cancel",data:{orderNo:e,memberNo:t},success:function(e){return e.head.code?(71982==e.head.code&&((0,r.rmSto)("nickname"),(0,r.rmSto)("timestamp"),(0,r.rmSto)("token"),(0,r.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(e.head.message)):void a()},error:function(e){console.log(e)}})}function t(e,t){l.attr("data-order",e),l.attr("data-type",t),s.css("display","block"),setTimeout(function(){s.css("opacity",1)},50)}function a(){s.css("opacity",0),setTimeout(function(){s.css("display","none"),location.reload()},500)}var o=(0,d.default)(".cancel-order"),s=(0,d.default)(".opacity"),l=(0,d.default)(".opacity .con li:last-of-type"),i=(0,d.default)(".opacity .con li:first-of-type");o.on("click",function(){(0,d.default)(".opacity .con a").css("display","none"),(0,d.default)(".opacity .con h2").text("取消订单"),(0,d.default)(".opacity .con p").text("是否确认取消订单？"),(0,d.default)(".opacity .con").addClass("cancel"),t((0,r.url_search)().orderNo,(0,d.default)(this).get(0).dataset.type)}),l.on("click",function(){var t=sessionStorage.getItem("vipNo");"cancel"==(0,d.default)(this).get(0).dataset.type&&e((0,d.default)(this).get(0).dataset.order,t)}),i.on("click",function(){a()})}(),function(){function e(e,t){var a,o=(0,r.getSto)("token");d.default.ajax((a={type:"post",headers:(0,r.signName)(c.default,t,o)},s(a,"headers",(0,r.signName)(c.default,t,o)),s(a,"url",n.default+"/shoporder/delete"),s(a,"data",{orderNo:e,memberNo:t}),s(a,"success",function(e){return e.head.code?(71982==e.head.code&&((0,r.rmSto)("nickname"),(0,r.rmSto)("timestamp"),(0,r.rmSto)("token"),(0,r.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(e.head.message)):void(location.href=(0,d.default)("header>a").attr("href"))}),s(a,"error",function(e){console.log(e)}),a))}function t(e,t){i.attr("data-order",e),i.attr("data-type",t),l.css("display","block"),setTimeout(function(){l.css("opacity",1)},50)}function a(){l.css("opacity",0),setTimeout(function(){l.css("display","none"),location.reload()},500)}var o=(0,d.default)(".delete-order"),l=(0,d.default)(".opacity"),i=(0,d.default)(".opacity .con li:last-of-type"),u=(0,d.default)(".opacity .con li:first-of-type");o.on("click",function(){(0,d.default)(".opacity .cancel a").css("display","none"),(0,d.default)(".opacity .con h2").text("删除订单"),(0,d.default)(".opacity .con p").text("是否确认删除订单？"),(0,d.default)(".opacity .con").addClass("cancel"),t((0,r.url_search)().orderNo,(0,d.default)(this).get(0).dataset.type)}),i.on("click",function(){var t=sessionStorage.getItem("vipNo");"delete"==(0,d.default)(this).get(0).dataset.type&&e((0,d.default)(this).get(0).dataset.order,t)}),u.on("click",function(){a()})}(),function(){function e(e,t,o){d.default.ajax({type:"post",headers:(0,r.signName)(c.default,t,S),url:n.default+"/shoporder/refund",data:{orderNo:e,memberNo:t,reason:o},success:function(e){return e.head.code?(71982==e.head.code&&((0,r.rmSto)("nickname"),(0,r.rmSto)("timestamp"),(0,r.rmSto)("token"),(0,r.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(e.head.message)):void a()},error:function(e){console.log(e),alert(e)}})}function t(e,t){l.attr("data-order",e),l.attr("data-type",t),s.css("display","block"),setTimeout(function(){s.css("opacity",1)},50)}function a(){s.css("opacity",0),setTimeout(function(){s.css("display","none"),location.reload()},500)}var o=(0,d.default)(".refund"),s=(0,d.default)(".opacity"),l=(0,d.default)(".opacity .con li:last-of-type"),i=(0,d.default)(".opacity .con li:first-of-type");o.on("click",function(){(0,d.default)(".opacity .con").addClass("reason"),t((0,r.url_search)().orderNo,(0,d.default)(this).get(0).className)}),l.on("click",function(){var t=sessionStorage.getItem("vipNo"),a=(0,d.default)(".opacity .reason input").val();"refund"==(0,d.default)(this).get(0).dataset.type&&e((0,d.default)(this).get(0).dataset.order,t,a)});var u="",f=(0,d.default)(".opacity input");(0,d.default)(f).on("input",function(){(0,d.default)(this).val().length>=140?((0,d.default)(this).val(u),alert("字数不能超过140字")):u=(0,d.default)(this).val()}),i.on("click",function(){a()})}(),function(){function e(e,t,o){d.default.ajax({type:"post",headers:(0,r.signName)(c.default,t,S),url:n.default+"/shoporder/aftersale",data:{orderNo:e,memberNo:t,reason:o},success:function(e){return e.head.code?(71982==e.head.code&&((0,r.rmSto)("nickname"),(0,r.rmSto)("timestamp"),(0,r.rmSto)("token"),(0,r.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(e.head.message)):(a(),void setTimeout(function(){location.reload(),location.href="jump.html"},500))},error:function(e){console.log(e)}})}function t(e,t){l.attr("data-order",e),l.attr("data-type",t),s.css("display","block"),setTimeout(function(){s.css("opacity",1)},50)}function a(){s.css("opacity",0),setTimeout(function(){s.css("display","none"),location.reload()},500)}var o=(0,d.default)(".server-support"),s=(0,d.default)(".opacity"),l=(0,d.default)(".opacity .con li:last-of-type"),i=(0,d.default)(".opacity .con li:first-of-type");o.on("click",function(){(0,d.default)(".opacity .con").addClass("reason"),(0,d.default)(".opacity .con h2").text("申请售后"),(0,d.default)(".opacity .con p").text("请在输入框中填写申请售后理由"),t((0,r.url_search)().orderNo,(0,d.default)(this).get(0).className)}),l.on("click",function(){var t=sessionStorage.getItem("vipNo"),a=(0,d.default)(".opacity .reason input").val();"server-support"==(0,d.default)(this).get(0).dataset.type&&e((0,d.default)(this).get(0).dataset.order,t,a)});var u="",f=(0,d.default)(".opacity input");(0,d.default)(f).on("input",function(){console.log(56),(0,d.default)(this).val().length>=140?((0,d.default)(this).val(u),alert("字数不能超过140字")):u=(0,d.default)(this).val()}),i.on("click",function(){a()})}(),function(){function e(e,t){var o=(0,r.getSto)("token");d.default.ajax({type:"post",headers:(0,r.signName)(c.default,t,o),url:n.default+"/shoporder/confirm",data:{orderNo:e,memberNo:t},success:function(e){return e.head.code?(71982==e.head.code&&((0,r.rmSto)("nickname"),(0,r.rmSto)("timestamp"),(0,r.rmSto)("token"),(0,r.rmSto)("vipNo"),alert("出现错误，请重新登录！"),location.href="user-center.html"),void alert(e.head.message)):void a()},error:function(e){console.log(e)}})}function t(e,t){l.attr("data-order",e),l.attr("data-type",t),s.css("display","block"),setTimeout(function(){s.css("opacity",1)},50)}function a(){s.css("opacity",0),setTimeout(function(){s.css("display","none"),location.reload()},500)}var o=(0,d.default)(".ok"),s=(0,d.default)(".opacity"),l=(0,d.default)(".opacity .con li:last-of-type"),i=(0,d.default)(".opacity .con li:first-of-type");o.on("click",function(){(0,d.default)(".opacity .con").removeClass("reason"),(0,d.default)(".opacity .con").removeClass("cancel"),(0,d.default)(".opacity .con input").css("display","none"),(0,d.default)(".opacity .con h2").text("确认收货"),(0,d.default)(".opacity .con p").text("是否确认已经收到货品？"),t((0,r.url_search)().orderNo,(0,d.default)(this).get(0).className)}),l.on("click",function(){var t=sessionStorage.getItem("vipNo");"ok"==(0,d.default)(this).get(0).dataset.type&&e((0,d.default)(this).get(0).dataset.order,t,(0,d.default)(this).get(0).dataset.index)}),i.on("click",function(){a()})}(),"#express"==location.hash&&(0,d.default)(".wrap").scrollTop((0,d.default)("#express").offset().top)},error:function(e){console.log(e)}})}(),function(){(0,d.default)(".normal>span").on("click",function(){location.href="jump.html"})}()},70:2});