webpackJsonp([36],{0:function(e,o,t){e.exports=t(27)},27:function(e,o,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t(2),t(71);var i=t(3),n=a(i),l=t(1),s=a(l),u=t(4);a(u),(0,l.rmSto)("goods-prevurl"),function(){var e=(0,n.default)(".wrap");(0,l.reTop)(e)}();var d={type:6,pageNum:1,pageSize:10},c=s.default+"/home/queryHomeGoodsByPage",f=0;!function(){function e(e,o,t){o.forEach(function(o,t){e+='<li class="goods-gife-item">\n                <img src="" data-src='+o.goodsPicture+' alt="">\n                <div>\n                    <h3>'+o.longName+"</h3>\n                    <em>￥"+o.salePrice+'</em>\n                </div>\n                <a href="goods-detail.html?id='+o.id+'"></a>\n            </li>'}),(0,n.default)(t).html(e),function(){var e=(0,n.default)(".goods-gife-list img");(0,l.imgLazy)(e)}(),function(){var e=(0,n.default)(".goods-gife-list1 img");(0,l.imgLazy)(e)}()}function o(e,o,t){console.log("arr:",o),o.forEach(function(o,t){e+='<li class="goods-gife-item">\n                <img src="" data-src='+o.goodsPicture+' alt="">\n                <div>\n                    <h3>'+o.longName+"</h3>\n                    <em>￥"+o.salePrice+'</em>\n                </div>\n                <a href="goods-detail.html?id='+o.id+'"></a>\n            </li>'}),(0,n.default)(t).append(e),function(){var e=(0,n.default)(".goods-gife-list img");(0,l.imgLazy)(e)}()}function t(e,t){var a=(0,n.default)(t),i=(0,n.default)(".refresh"),s=window.screen.availHeight,u=0,g=null,r=null,m=null,h=0,p=0;a.on("touchstart",function(e){h=e.changedTouches[0].pageY}),a.on("touchmove",function(e){p=e.changedTouches[0].pageY}),a.on("scroll",function(){var t=(0,n.default)(".goods-gife-list li:nth-last-of-type(1)"),a=0;(0,n.default)(".goods-gife-list li").length&&(a=t.offset().top,h-p>=0&&a<s+100&&(clearTimeout(g),g=setTimeout(function(){d.pageNum++,clearTimeout(m),(0,n.default)(i).html("正在加载中..."),(0,n.default)(i).css("bottom",0),n.default.ajax({type:"get",url:c,data:d,success:function(t){if(t.head.code)return console.log(t.head.message),void(0,l.cancelImgLayer)();var t=t.body;t.end?(f||o(e,t.goodsVoList,(0,n.default)(".goods-gife-list")),f++,u=d.pageNum-1,d.pageNum=u,(0,n.default)(i).html("已经到末尾咯~"),(0,n.default)(i).css("bottom",0),clearTimeout(r),r=setTimeout(function(){(0,n.default)(i).css("bottom","-1rem")},2e3)):(o(e,t.goodsVoList,(0,n.default)(".goods-gife-list")),m=setTimeout(function(){(0,n.default)(i).css("bottom","-1rem")},2e3),f=0),function(){var e=(0,n.default)(".goods-gife-list img");(0,l.imgLazy)(e)}()},error:function(e){console.log(e),(0,l.cancelImgLayer)()}})},1e3)))})}var a=(0,n.default)(".goods-gife-list"),i="";(0,l.showImgLayer)("数据请求中..."),n.default.ajax({type:"get",url:s.default+"/home/queryHomeGoodsByPage",data:{type:6,pageNum:1,pageSize:10},success:function(o){if(o.head.code)return console.log(o.head.message),void(0,l.cancelImgLayer)();var o=o.body;e(i,o.goodsVoList,a),(0,l.cancelImgLayer)()},error:function(){}}),t(i,(0,n.default)(".wrap"))}()},71:2});