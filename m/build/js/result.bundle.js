webpackJsonp([15],{0:function(e,t,a){e.exports=a(54)},54:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function l(e){e.forEach(function(e,t){var a="",s="",l=(0,o.default)(".public li.item>section.block>a>div.img-wrap").height(),i=(0,o.default)(".public li.item>section.block>a>div.img-wrap").width();(0,o.default)(e).get(0).onload=function(){a=(0,o.default)(e).get(0).offsetWidth,s=(0,o.default)(e).get(0).offsetHeight,a/s>1.675?(0,o.default)(e).css({height:l,left:"50%","margin-left":-a*l/s/2}):(0,o.default)(e).css({width:i,top:"50%","margin-top":-s*i/a/2})}})}function i(e){for(var t={},a=e.split("&"),s=0;s<a.length;s++){var l=a[s].split("=");t[l[0]]=l[1]}return t}a(2),a(97);var c=a(3),o=s(c),n=a(1),u=s(n),d=a(4),r=(s(d),window.location.search),f=i(decodeURI(decodeURI(r)).split("?")[1]);!function(){var e=(0,o.default)(".result");(0,n.reTop)(e)}(),(0,o.default)("header>h2").text(f.name),function(){function e(e,t){var a=(0,o.default)(".result ul");e.forEach(function(e,t){c+='<li class="item"><section class="block">',c+='<a href="detail.html?id='+e.id+'"><div class="item-head"><img class="avater" src="'+e.avatar+'" ><span class="name">'+e.nickName+'</span><i class="time">'+e.publishTime+"</i></div>",c+='<div class="img-wrap"><img class="show-pic" src="'+e.cover+'" ></div>',c+='<h2 class="title">'+e.title+"</h2>",c+='<p class="text">'+e.content+"</p>",c+='<div class="item-foot"><span class="words"><em></em><b> '+e.messageNum+'</b></span><i></i><span class="good"><em></em><b> '+e.interestedNum+"</b></span>",e.labels&&e.labels.split(",").forEach(function(e,t){c+='<em class="kind">'+e+"</em>"}),c+="</div></a></section></li>"}),a.html(c);var s=(0,o.default)(".show-pic");l(s)}function t(e){var t=(0,o.default)(".result ul");e.forEach(function(e,t){c+='<li class="item"><section class="block">',c+='<a href="detail.html?id='+e.id+'"><div class="item-head"><img class="avater" src="'+e.avatar+'" ><span class="name">'+e.nickName+'</span><i class="time">'+e.publishTime+"</i></div>",c+='<div class="img-wrap"><img class="show-pic" src="'+e.cover+'" ></div>',c+='<h2 class="title">'+e.title+"</h2>",c+='<p class="text">'+e.content+"</p>",c+='<div class="item-foot"><span class="words"><em></em><b> '+e.messageNum+'</b></span><i></i><span class="good"><em></em><b> '+e.interestedNum+"</b></span>",e.labels&&e.labels.split(",").forEach(function(e,t){c+='<em class="kind">'+e+"</em>"}),c+="</div></a></section></li>"}),t.html(c);var a=(0,o.default)(".show-pic");l(a)}function a(){var e=((0,o.default)(".result ul"),(0,o.default)(".result")),a=(0,o.default)(".refresh"),l=window.screen.availHeight,c=0,n=0,d=null,r=null,f=null,m=0,h=0;e.on("touchstart",function(e){m=e.changedTouches[0].pageY}),e.on("touchmove",function(e){h=e.changedTouches[0].pageY}),e.on("scroll",function(){var e=(0,o.default)(".result li:nth-last-of-type(1)"),p=e.offset().top;m-h>=0&&p<l+100&&(clearTimeout(d),d=setTimeout(function(){s++,clearTimeout(f),(0,o.default)(a).html("正在加载中..."),(0,o.default)(a).css("bottom",0),o.default.ajax({url:u.default+"/article/list?pageNum="+s+"&pageSize="+i+"&labelId=0",success:function(e){return e.head.code?void console.log("数据返回错误！"):void(e.body.end?(n||t(e.body.articles),n++,c=s-1,s=c,(0,o.default)(a).html("已经到末尾咯~"),(0,o.default)(a).css("bottom",0),clearTimeout(r),r=setTimeout(function(){(0,o.default)(a).css("bottom","-1rem")},2e3)):(t(e.body.articles),(0,o.default)(a).html("本次加载完成！"),f=setTimeout(function(){(0,o.default)(a).css("bottom","-1rem")},2e3),n=0))}})},1e3))})}var s=1,i=5,c="";o.default.ajax({url:u.default+"/article/list?pageNum="+s+"&pageSize="+i+"&labelId="+f.id,success:function(t){return t.head.code?void console.log("数据返回错误！"):void e(t.body.articles,t.body.subjectList)},error:function(e){console.log(e)}}),a()}()},97:2});